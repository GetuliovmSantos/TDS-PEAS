<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>P√°gina Principal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='cadastro_produto.css') }}">
</head>
<body>
    <div class="header">
        <h1>Cadastro de Produtos</h1>
        <a href="/home" class="btn-voltar">‚Üê Voltar</a>
    </div>

    <div class="container">
        <div class="add-section">
            <a href="/novo_produto" class="btn-add">+ Cadastrar Novo Produto</a>
        </div>

        <form action="/cadastro_produto" method="POST">
            <input type="text" id="pesquisa" name="pesquisa" placeholder="Buscar produto por nome..." class="search-input">
            <button type="submit" class="btn-search">üîç Buscar</button>
        </form>
        
        <div class="table-container">
            <table class="products-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>C√≥digo</th>
                        <th>C√≥digo Alt.</th>
                        <th>Nome</th>
                        <th>Descri√ß√£o</th>
                        <th>Categoria</th>
                        <th>Unidade</th>
                        <th>Pre√ßo</th>
                        <th>Estoque M√≠n.</th>
                        <th>Estoque Atual</th>
                        <th>Aplica√ß√£o Veicular</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                    {% if produtos %}
                        {% for produto in produtos %}
                        <tr>
                            <td>{{ produto.idProduto }}</td>
                            <td>{{ produto.codigo }}</td>
                            <td>{{ produto.codigo_alternativo or '-' }}</td>
                            <td>{{ produto.nome }}</td>
                            <td>{{ produto.descricao or '-' }}</td>
                            <td>{{ produto.categoria or '-' }}</td>
                            <td>{{ produto.unidade_medida or '-' }}</td>
                            <td>R$ {{ "%.2f"|format(produto.preco or 0) }}</td>
                            <td>{{ produto.estoque_minimo or '-' }}</td>
                            <td>{{ produto.estoque_atual or 0 }}</td>
                            <td>{{ produto.aplicacao_veicular or '-' }}</td>
                            <td class="actions">
                                <button class="btn-edit">‚úèÔ∏è Editar</button>
                                <button class="btn-delete">üóëÔ∏è Excluir</button>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="12" class="no-products">Nenhum produto cadastrado.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>